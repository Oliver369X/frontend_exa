/* GrapesJS Editor Custom Styles - Minimalista */

/* Editor container */
.gjs-editor-cont {
  border-radius: 0.5rem;
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Lienzo */
.gjs-cv-canvas {
  background-color: hsl(var(--background)); 
  border: none; 
}

/* Paneles internos de GrapesJS (Sección de Estilos, Capas, Atributos) */
.gjs-pn-panel {
  background-color: transparent; /* Hereda del contenedor (.editor-right-sidebar) */
  color: hsl(var(--foreground)); 
  border: none; 
  box-shadow: none; 
  margin-bottom: 0;
  padding: 0; /* El padding está en el contenedor */
}
/* Selectores específicos para el contenido de los paneles si necesitan ajustes */
.gjs-sm-sectors, .gjs-layers, .gjs-trt-traits {
    background-color: transparent;
}
.gjs-sm-sector .gjs-sm-properties {
    background-color: transparent;
}

/* Botones internos de paneles */
.gjs-pn-btn {
  color: hsl(var(--muted-foreground)); /* Color suave por defecto */
  border-radius: hsl(var(--radius)); 
  transition: background-color 0.1s, color 0.1s;
  padding: 0.25rem 0.5rem; 
  border: none;
  background-color: transparent;
  box-shadow: none;
}

.gjs-pn-btn:hover {
  background-color: hsl(var(--accent)); 
  color: hsl(var(--accent-foreground)); 
}
.gjs-pn-btn.gjs-pn-active {
  background-color: hsl(var(--primary)); 
  color: hsl(var(--primary-foreground)); 
}

/* Estilos para botón Add Page (+) específico si es necesario */
.gjs-pn-btn#add-page svg {
  width: 16px; /* Ajustar tamaño icono */
  height: 16px;
}

/* Bloques en el panel lateral izquierdo */
.gjs-block {
  background-color: hsl(var(--background)); /* Fondo más claro que el sidebar */
  color: hsl(var(--foreground)); 
  border: 1px solid hsl(var(--border)); 
  border-radius: hsl(var(--radius)); 
  padding: 0.5rem; /* p-2 */
  margin-bottom: 0.5rem; 
  text-align: center;
  transition: all 0.1s;
  width: 100% !important; 
  min-height: auto !important;
  box-shadow: none;
}

.gjs-block:hover {
  border-color: hsl(var(--primary)); 
  transform: none; /* Quitar transform */
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); /* Sombra sutil */
}
.gjs-block-label {
  font-size: 0.75rem; /* text-xs */
  color: hsl(var(--muted-foreground));
}

/* Componente seleccionado en el lienzo */
.gjs-selected {
  outline: 2px solid hsl(var(--primary)) !important; 
  outline-offset: 1px !important;
}

/* Hover sobre componente en el lienzo */
.gjs-hovered {
  outline: 1px dashed hsl(var(--primary) / 0.7) !important; 
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .gjs-block {
    width: 45%;
  }
}

/* Dark mode support */
.dark .gjs-cv-canvas {
  background-color: #1f2937;
  border-color: #374151;
}

.dark .gjs-pn-panel {
  background-color: #111827;
  color: #f9fafb;
}

.dark .gjs-block {
  background-color: #1f2937;
  color: #f9fafb;
}

/* Improve accessibility */
.gjs-pn-btn:focus {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
}

/* Loading state */
.gjs-editor-loading {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

.dark .gjs-editor-loading {
  background-color: rgba(17, 24, 39, 0.7);
}

/* Toolbar que aparece al seleccionar */
.gjs-toolbar {
  background-color: hsl(var(--popover)); /* Usar fondo de popover */
  color: hsl(var(--popover-foreground));
  border-radius: hsl(var(--radius));
  padding: 0.25rem;
  border: 1px solid hsl(var(--border));
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.gjs-toolbar-item {
  padding: 0.25rem;
  border-radius: calc(hsl(var(--radius)) - 4px); /* Ajustar radio */
  /* Intentar colorear iconos SVG */
  & svg path { 
    fill: currentColor; 
  } 
}

.gjs-toolbar-item:hover {
  background-color: hsl(var(--accent)); 
  color: hsl(var(--accent-foreground));
}

/* Estilos para que los paneles internos (Style, Layer, Trait) se vean bien */
.gjs-sm-sector, .gjs-layer, .gjs-trait {
  padding: 0.5rem 0; /* Añadir algo de padding vertical */
  border-bottom: 1px solid hsl(var(--border) / 0.5); /* Separador sutil */
}
.gjs-sm-sector:last-child, .gjs-layer:last-child, .gjs-trait:last-child {
  border-bottom: none;
}
.gjs-label, .gjs-layer-title, .gjs-trait-label {
  color: hsl(var(--foreground));
  font-size: 0.875rem;
}
.gjs-field, .gjs-input-holder {
  /* Estilizar campos de input si es necesario para que coincidan con Shadcn Input */
}

/* Otros estilos GrapesJS que podríamos querer ajustar: */
/* .gjs-layer { ... } */
/* .gjs-trait { ... } */
/* .gjs-sm-sector { ... } */ /* Style Manager Sector */
/* .gjs-field { ... } */ /* Campos dentro de panels */

/* Contenedor de Paneles Derecho (Style, Layer, Trait) */
.gjs-pn-views-container {
  /* GrapesJS añade aquí los paneles. El contenedor ya tiene padding y fondo */
  /* Podemos estilizar los botones que GrapesJS añade para cambiar entre ellos */
  .gjs-pn-buttons {
    display: flex;
    justify-content: space-around; /* O flex-start */
    border-bottom: 1px solid hsl(var(--border));
    padding-bottom: 0.5rem; /* py-2 */
    margin-bottom: 0.5rem; /* mb-2 */
  }
}

/* Paneles individuales dentro del contenedor derecho */
.gjs-pn-views .gjs-pn-panel {
  border: none; /* Sin bordes extra dentro del contenedor */
  background: transparent;
  padding: 0; /* El padding está en el contenedor padre */
}

/* Gestor de páginas (cuando se abre el modal/panel) */
.gjs-page-manager {
  /* Estilos para el contenedor principal del gestor de páginas */
}
.gjs-page-manager-header {
  /* Estilos para la cabecera */
}
.gjs-page-manager-pages {
  /* Estilos para la lista de páginas */
}
.gjs-page-manager-page {
  /* Estilos para cada item de página */
  border-bottom: 1px solid hsl(var(--border) / 0.5);
  padding: 0.5rem;
}
.gjs-page-manager-page:hover {
  background-color: hsl(var(--accent));
}
